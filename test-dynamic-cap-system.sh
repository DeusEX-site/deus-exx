#!/bin/bash

# Enable UTF-8 encoding
export LANG=en_US.UTF-8
export LC_ALL=en_US.UTF-8

# Function to pause execution
pause() {
    read -p "Press any key to continue..." -n1 -s
    echo
}

# Function to get user input
get_input() {
    local prompt="$1"
    local variable_name="$2"
    read -p "$prompt" $variable_name
}

# Function to confirm action
confirm() {
    local prompt="$1"
    local response
    read -p "$prompt" response
    if [[ "$response" =~ ^[Yy]$ ]]; then
        return 0
    else
        return 1
    fi
}

# Main menu function
show_menu() {
    clear
    echo "=========================================="
    echo "     –°–ò–°–¢–ï–ú–ê –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ò–• –¢–ï–°–¢–û–í –ö–ê–ü"
    echo "=========================================="
    echo
    echo "üöÄ –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"
    echo "    –≤—Å–µ—Ö 16 —Ç–∏–ø–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π + –∫–æ–º–∞–Ω–¥—ã —Å—Ç–∞—Ç—É—Å–∞"
    echo
    echo "–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:"
    echo
    echo "1. –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä)"
    echo "2. –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏)"
    echo "3. –¢–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞–ø"
    echo "4. –¢–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–ø"
    echo "5. –¢–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥—ã —Å—Ç–∞—Ç—É—Å–∞"
    echo "6. –¢–æ–ª—å–∫–æ —Å–±—Ä–æ—Å –ø–æ–ª–µ–π"
    echo "7. –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–µ—Å—Ç–æ–≤"
    echo "8. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"
    echo "9. –°–ø—Ä–∞–≤–∫–∞"
    echo "0. –í—ã—Ö–æ–¥"
    echo
    get_input "–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä (0-9): " choice
    
    case "$choice" in
        1) quick_test ;;
        2) full_test ;;
        3) create_test ;;
        4) update_test ;;
        5) status_test ;;
        6) reset_test ;;
        7) stats_test ;;
        8) settings ;;
        9) help ;;
        0) exit_script ;;
        *) 
            echo "–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞."
            pause
            show_menu
            ;;
    esac
}

# Quick test function
quick_test() {
    clear
    echo "=========================================="
    echo "        –ë–´–°–¢–†–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï"
    echo "=========================================="
    echo
    echo "‚ö° –ó–∞–ø—É—Å–∫ –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è..."
    echo "‚è±Ô∏è  –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: ~1-2 –º–∏–Ω—É—Ç—ã"
    echo "üìä –ü–æ–∫—Ä—ã—Ç–∏–µ: –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è"
    echo
    php artisan test:dynamic-cap-system quick
    echo
    echo "‚úÖ –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
    pause
    show_menu
}

# Full test function
full_test() {
    clear
    echo "=========================================="
    echo "        –ü–û–õ–ù–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï"
    echo "=========================================="
    echo
    echo "‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏!"
    echo
    if confirm "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å? (y/n): "; then
        echo
        echo "üéØ –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è..."
        echo "‚è±Ô∏è  –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: ~10-30 –º–∏–Ω—É—Ç"
        echo "üìä –ü–æ–∫—Ä—ã—Ç–∏–µ: –≤—Å–µ 16 —Ç–∏–ø–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π + –∫–æ–º–∞–Ω–¥—ã —Å—Ç–∞—Ç—É—Å–∞"
        echo
        php artisan test:dynamic-cap-system full --max-tests=100
        echo
        echo "‚úÖ –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
        pause
    fi
    show_menu
}

# Create test function
create_test() {
    clear
    echo "=========================================="
    echo "      –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –°–û–ó–î–ê–ù–ò–Ø –ö–ê–ü"
    echo "=========================================="
    echo
    echo "üìù –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–ø..."
    echo "‚è±Ô∏è  –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: ~3-5 –º–∏–Ω—É—Ç"
    echo "üìä –ü–æ–∫—Ä—ã—Ç–∏–µ: –≤—Å–µ —Ç–∏–ø—ã —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–ø"
    echo
    php artisan test:dynamic-cap-system create --max-tests=50
    echo
    echo "‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
    pause
    show_menu
}

# Update test function
update_test() {
    clear
    echo "=========================================="
    echo "      –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –û–ë–ù–û–í–õ–ï–ù–ò–Ø –ö–ê–ü"
    echo "=========================================="
    echo
    echo "üîÑ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–ø..."
    echo "‚è±Ô∏è  –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: ~5-8 –º–∏–Ω—É—Ç"
    echo "üìä –ü–æ–∫—Ä—ã—Ç–∏–µ: –≤—Å–µ —Ç–∏–ø—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–ø"
    echo
    php artisan test:dynamic-cap-system update --max-tests=50
    echo
    echo "‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
    pause
    show_menu
}

# Status test function
status_test() {
    clear
    echo "=========================================="
    echo "      –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ö–û–ú–ê–ù–î –°–¢–ê–¢–£–°–ê"
    echo "=========================================="
    echo
    echo "üîß –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥ —Å—Ç–∞—Ç—É—Å–∞..."
    echo "‚è±Ô∏è  –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: ~1 –º–∏–Ω—É—Ç–∞"
    echo "üìä –ü–æ–∫—Ä—ã—Ç–∏–µ: RUN, STOP, DELETE, RESTORE, STATUS"
    echo
    php artisan test:dynamic-cap-system status
    echo
    echo "‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
    pause
    show_menu
}

# Reset test function
reset_test() {
    clear
    echo "=========================================="
    echo "      –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –°–ë–†–û–°–ê –ü–û–õ–ï–ô"
    echo "=========================================="
    echo
    echo "üîÑ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–±—Ä–æ—Å–∞ –ø–æ–ª–µ–π..."
    echo "‚è±Ô∏è  –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: ~2-3 –º–∏–Ω—É—Ç—ã"
    echo "üìä –ü–æ–∫—Ä—ã—Ç–∏–µ: –≤—Å–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Å–±—Ä–æ—Å–∞ –ø–æ–ª–µ–π"
    echo
    php artisan test:dynamic-cap-system reset
    echo
    echo "‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–±—Ä–æ—Å–∞ –ø–æ–ª–µ–π –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
    pause
    show_menu
}

# Stats test function
stats_test() {
    clear
    echo "=========================================="
    echo "        –°–¢–ê–¢–ò–°–¢–ò–ö–ê –¢–ï–°–¢–û–í"
    echo "=========================================="
    echo
    echo "üìä –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–ª–∞–Ω–∏—Ä—É–µ–º—ã—Ö —Ç–µ—Å—Ç–æ–≤..."
    echo
    php artisan test:dynamic-cap-system stats
    echo
    pause
    show_menu
}

# Settings function
settings() {
    clear
    echo "=========================================="
    echo "        –ù–ê–°–¢–†–û–ô–ö–ò –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø"
    echo "=========================================="
    echo
    echo "–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:"
    echo
    echo "1. –ú–∞–ª—ã–π –æ–±—ä–µ–º —Ç–µ—Å—Ç–æ–≤ (–±—ã—Å—Ç—Ä–æ)"
    echo "2. –°—Ä–µ–¥–Ω–∏–π –æ–±—ä–µ–º —Ç–µ—Å—Ç–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)"
    echo "3. –ë–æ–ª—å—à–æ–π –æ–±—ä–µ–º —Ç–µ—Å—Ç–æ–≤ (–º–µ–¥–ª–µ–Ω–Ω–æ)"
    echo "4. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä–µ–º —Ç–µ—Å—Ç–æ–≤ (–æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ)"
    echo "5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"
    echo "6. –ù–∞–∑–∞–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"
    echo
    get_input "–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä (1-6): " settings_choice
    
    case "$settings_choice" in
        1) small_settings ;;
        2) medium_settings ;;
        3) large_settings ;;
        4) max_settings ;;
        5) custom_settings ;;
        6) show_menu ;;
        *)
            echo "–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞."
            pause
            settings
            ;;
    esac
}

# Small settings function
small_settings() {
    clear
    echo "=========================================="
    echo "        –ú–ê–õ–´–ô –û–ë–™–ï–ú –¢–ï–°–¢–û–í"
    echo "=========================================="
    echo
    echo "‚öôÔ∏è  –ù–∞—Å—Ç—Ä–æ–π–∫–∏:"
    echo "‚Ä¢ –ú–∞–∫—Å–∏–º—É–º —Ç–µ—Å—Ç–æ–≤ –Ω–∞ —Ç–∏–ø: 10"
    echo "‚Ä¢ –ú–∞–∫—Å–∏–º—É–º –∫–æ–º–±–∏–Ω–∞—Ü–∏–π: 2"
    echo "‚Ä¢ –ú–∞–∫—Å–∏–º—É–º –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–æ–∫: 6"
    echo "‚Ä¢ –¢–∞–π–º–∞—É—Ç: 180 —Å–µ–∫—É–Ω–¥"
    echo
    echo "üéØ –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –º–∞–ª—ã–º –æ–±—ä–µ–º–æ–º..."
    php artisan test:dynamic-cap-system full --max-tests=10 --max-combinations=2 --max-permutations=6 --timeout=180
    echo
    echo "‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
    pause
    show_menu
}

# Medium settings function
medium_settings() {
    clear
    echo "=========================================="
    echo "        –°–†–ï–î–ù–ò–ô –û–ë–™–ï–ú –¢–ï–°–¢–û–í"
    echo "=========================================="
    echo
    echo "‚öôÔ∏è  –ù–∞—Å—Ç—Ä–æ–π–∫–∏:"
    echo "‚Ä¢ –ú–∞–∫—Å–∏–º—É–º —Ç–µ—Å—Ç–æ–≤ –Ω–∞ —Ç–∏–ø: 50"
    echo "‚Ä¢ –ú–∞–∫—Å–∏–º—É–º –∫–æ–º–±–∏–Ω–∞—Ü–∏–π: 3"
    echo "‚Ä¢ –ú–∞–∫—Å–∏–º—É–º –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–æ–∫: 12"
    echo "‚Ä¢ –¢–∞–π–º–∞—É—Ç: 300 —Å–µ–∫—É–Ω–¥"
    echo
    echo "üéØ –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ —Å—Ä–µ–¥–Ω–∏–º –æ–±—ä–µ–º–æ–º..."
    php artisan test:dynamic-cap-system full --max-tests=50 --max-combinations=3 --max-permutations=12 --timeout=300
    echo
    echo "‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
    pause
    show_menu
}

# Large settings function
large_settings() {
    clear
    echo "=========================================="
    echo "        –ë–û–õ–¨–®–û–ô –û–ë–™–ï–ú –¢–ï–°–¢–û–í"
    echo "=========================================="
    echo
    echo "‚öôÔ∏è  –ù–∞—Å—Ç—Ä–æ–π–∫–∏:"
    echo "‚Ä¢ –ú–∞–∫—Å–∏–º—É–º —Ç–µ—Å—Ç–æ–≤ –Ω–∞ —Ç–∏–ø: 200"
    echo "‚Ä¢ –ú–∞–∫—Å–∏–º—É–º –∫–æ–º–±–∏–Ω–∞—Ü–∏–π: 4"
    echo "‚Ä¢ –ú–∞–∫—Å–∏–º—É–º –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–æ–∫: 24"
    echo "‚Ä¢ –¢–∞–π–º–∞—É—Ç: 600 —Å–µ–∫—É–Ω–¥"
    echo
    echo "‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –ë–æ–ª—å—à–æ–π –æ–±—ä–µ–º —Ç–µ—Å—Ç–æ–≤ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 30-60 –º–∏–Ω—É—Ç!"
    if confirm "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å? (y/n): "; then
        echo
        echo "üéØ –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –±–æ–ª—å—à–∏–º –æ–±—ä–µ–º–æ–º..."
        php artisan test:dynamic-cap-system full --max-tests=200 --max-combinations=4 --max-permutations=24 --timeout=600
        echo
        echo "‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
        pause
    fi
    show_menu
}

# Max settings function
max_settings() {
    clear
    echo "=========================================="
    echo "        –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–´–ô –û–ë–™–ï–ú –¢–ï–°–¢–û–í"
    echo "=========================================="
    echo
    echo "‚öôÔ∏è  –ù–∞—Å—Ç—Ä–æ–π–∫–∏:"
    echo "‚Ä¢ –ú–∞–∫—Å–∏–º—É–º —Ç–µ—Å—Ç–æ–≤ –Ω–∞ —Ç–∏–ø: –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π"
    echo "‚Ä¢ –ú–∞–∫—Å–∏–º—É–º –∫–æ–º–±–∏–Ω–∞—Ü–∏–π: 5"
    echo "‚Ä¢ –ú–∞–∫—Å–∏–º—É–º –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–æ–∫: 120"
    echo "‚Ä¢ –¢–∞–π–º–∞—É—Ç: 1800 —Å–µ–∫—É–Ω–¥ (30 –º–∏–Ω—É—Ç)"
    echo
    echo "‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä–µ–º –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –¥–µ—Å—è—Ç–∫–∏ —Ç—ã—Å—è—á —Ç–µ—Å—Ç–æ–≤!"
    echo "‚ö†Ô∏è  –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤!"
    if confirm "–í—ã —É–≤–µ—Ä–µ–Ω—ã? (y/n): "; then
        echo
        echo "üéØ –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –æ–±—ä–µ–º–æ–º..."
        php artisan test:dynamic-cap-system full --max-tests=0 --max-combinations=5 --max-permutations=120 --timeout=1800
        echo
        echo "‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
        pause
    fi
    show_menu
}

# Custom settings function
custom_settings() {
    clear
    echo "=========================================="
    echo "        –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨–°–ö–ò–ï –ù–ê–°–¢–†–û–ô–ö–ò"
    echo "=========================================="
    echo
    echo "–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:"
    echo
    get_input "–ú–∞–∫—Å–∏–º—É–º —Ç–µ—Å—Ç–æ–≤ –Ω–∞ —Ç–∏–ø (0=–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π): " max_tests
    get_input "–ú–∞–∫—Å–∏–º—É–º –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –ø–æ–ª–µ–π (1-5): " max_combinations
    get_input "–ú–∞–∫—Å–∏–º—É–º –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–æ–∫ (1-120): " max_permutations
    get_input "–¢–∞–π–º–∞—É—Ç –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (60-3600): " timeout
    echo
    echo "üéØ –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏..."
    php artisan test:dynamic-cap-system full --max-tests=$max_tests --max-combinations=$max_combinations --max-permutations=$max_permutations --timeout=$timeout
    echo
    echo "‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
    pause
    show_menu
}

# Help function
help() {
    clear
    echo "=========================================="
    echo "             –°–ü–†–ê–í–ö–ê"
    echo "=========================================="
    echo
    echo "üöÄ –°–∏—Å—Ç–µ–º–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤ –∫–∞–ø"
    echo
    echo "üìã –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è:"
    echo "‚Ä¢ 16 —Ç–∏–ø–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π —Å –∫–∞–ø–∞–º–∏"
    echo "‚Ä¢ –í—Å–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –ø–æ–ª–µ–π –∏ –∑–Ω–∞—á–µ–Ω–∏–π"
    echo "‚Ä¢ –í—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ—Ä—è–¥–∫–∞ –ø–æ–ª–µ–π"
    echo "‚Ä¢ –ö–æ–º–∞–Ω–¥—ã —Å—Ç–∞—Ç—É—Å–∞ (RUN, STOP, DELETE, RESTORE)"
    echo "‚Ä¢ –°–±—Ä–æ—Å –ø–æ–ª–µ–π –¥–æ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"
    echo "‚Ä¢ –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—à–∏–±–æ—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤"
    echo
    echo "üéØ –ü–æ–∫—Ä—ã–≤–∞–µ–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:"
    echo "‚Ä¢ –°–æ–æ–±—â–µ–Ω–∏–µ > –°–æ–∑–¥–∞–Ω–∏–µ > –û–¥–∏–Ω–æ—á–Ω–æ–µ/–ì—Ä—É–ø–ø–æ–≤–æ–µ > –û–¥–Ω–∞/–ú–Ω–æ–≥–æ –∫–∞–ø"
    echo "‚Ä¢ –°–æ–æ–±—â–µ–Ω–∏–µ > –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ > –û–¥–∏–Ω–æ—á–Ω–æ–µ/–ì—Ä—É–ø–ø–æ–≤–æ–µ > –û–¥–Ω–∞/–ú–Ω–æ–≥–æ –∫–∞–ø"
    echo "‚Ä¢ –û—Ç–≤–µ—Ç > –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ > –û–¥–∏–Ω–æ—á–Ω–æ–µ/–ì—Ä—É–ø–ø–æ–≤–æ–µ > –û–¥–Ω–∞/–ú–Ω–æ–≥–æ –∫–∞–ø"
    echo "‚Ä¢ –¶–∏—Ç–∞—Ç–∞ > –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ > –û–¥–∏–Ω–æ—á–Ω–æ–µ/–ì—Ä—É–ø–ø–æ–≤–æ–µ > –û–¥–Ω–∞/–ú–Ω–æ–≥–æ –∫–∞–ø"
    echo
    echo "üìä –û—Ç—á–µ—Ç—ã:"
    echo "‚Ä¢ –ö—Ä–∞—Ç–∫–∏–π –æ—Ç—á–µ—Ç (–∫–æ–Ω—Å–æ–ª—å)"
    echo "‚Ä¢ –î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç (—Ñ–∞–π–ª)"
    echo "‚Ä¢ –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫ (—Ñ–∞–π–ª)"
    echo "‚Ä¢ CSV —ç–∫—Å–ø–æ—Ä—Ç (—Ñ–∞–π–ª)"
    echo "‚Ä¢ JSON –æ—Ç—á–µ—Ç (—Ñ–∞–π–ª)"
    echo
    echo "üîß –ö–æ–º–∞–Ω–¥—ã Laravel:"
    echo "‚Ä¢ php artisan test:dynamic-cap-system"
    echo "‚Ä¢ php artisan test:dynamic-cap-system quick"
    echo "‚Ä¢ php artisan test:dynamic-cap-system create"
    echo "‚Ä¢ php artisan test:dynamic-cap-system update"
    echo "‚Ä¢ php artisan test:dynamic-cap-system status"
    echo "‚Ä¢ php artisan test:dynamic-cap-system stats"
    echo
    echo "üìÅ –§–∞–π–ª—ã —Å–∏—Å—Ç–µ–º—ã:"
    echo "‚Ä¢ DynamicCapTestGenerator.php"
    echo "‚Ä¢ DynamicCapTestEngine.php"
    echo "‚Ä¢ DynamicCapCombinationGenerator.php"
    echo "‚Ä¢ DynamicCapReportGenerator.php"
    echo "‚Ä¢ dynamic_cap_test_runner.php"
    echo "‚Ä¢ app/Console/Commands/TestDynamicCapSystem.php"
    echo
    pause
    show_menu
}

# Exit function
exit_script() {
    echo "–î–æ —Å–≤–∏–¥–∞–Ω–∏—è!"
    pause
    exit 0
}

# Main execution
main() {
    # Check if we're in the correct directory
    if [ ! -f "artisan" ]; then
        echo "‚ùå –û—à–∏–±–∫–∞: –ù–µ –Ω–∞–π–¥–µ–Ω —Ñ–∞–π–ª artisan"
        echo "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ Laravel –ø—Ä–æ–µ–∫—Ç–∞"
        exit 1
    fi
    
    # Check if PHP is available
    if ! command -v php &> /dev/null; then
        echo "‚ùå –û—à–∏–±–∫–∞: PHP –Ω–µ –Ω–∞–π–¥–µ–Ω"
        echo "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PHP –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ PATH"
        exit 1
    fi
    
    # Start the menu
    show_menu
}

# Run main function
main 