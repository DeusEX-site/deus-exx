#!/bin/bash

echo "=========================================="
echo "        СИСТЕМА ОТЛАДКИ ВСЕХ ТЕСТОВ"
echo "=========================================="
echo ""
echo "Этот скрипт запустит все тесты по очереди"
echo "Нажмите Enter для продолжения к следующему тесту"
echo "Для выхода используйте Ctrl+C"
echo ""
read -p "Нажмите Enter для начала..."
echo ""

echo "=========================================="
echo "1. Тест анализа НОВЫХ сообщений с капами"
echo "=========================================="
php artisan test:cap-analysis
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "2. Тест анализа ОТВЕТОВ на сообщения (обновления кап)"
echo "=========================================="
php artisan test:cap-reply-analysis
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "3. Тест системы истории капы"
echo "=========================================="
php artisan test:cap-history
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "4. Тест системы статуса капы"
echo "=========================================="
php artisan test:cap-status-system
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "5. Тест позиций чата"
echo "=========================================="
php artisan chats:test-positions
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "6. Тест полной системы"
echo "=========================================="
php artisan chats:test-full-system
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "7. Тест новой системы капы"
echo "=========================================="
php artisan test:new-cap-system
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "8. Тест исходящих сообщений"
echo "=========================================="
php artisan chats:test-outgoing
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "9. Тест стабильности позиций"
echo "=========================================="
php artisan chats:test-stability-final
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "10. Тест логики замены"
echo "=========================================="
php artisan chats:test-replacement
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "11. Тест сообщений обмена"
echo "=========================================="
php artisan test:swap-messages
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "12. Тест правила топ-10"
echo "=========================================="
php artisan chats:test-top-ten
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "13. Тест стабильности топ-3"
echo "=========================================="
php artisan chats:test-stability
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "14. Тест парсинга капы (отдельный файл)"
echo "=========================================="
php test_cap_parsing.php
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "15. Тест системы истории капы (отдельный файл)"
echo "=========================================="
php test_cap_history_system.php
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "16. Тест пустых полей"
echo "=========================================="
php test_empty_fields.php
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "17. Тест отладки пустых полей"
echo "=========================================="
php test_empty_fields_debug.php
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "18. Тест парсинга расписания"
echo "=========================================="
php test_schedule_parsing.php
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "19. Тест парсинга мульти-расписания"
echo "=========================================="
php test_multi_schedule_parsing.php
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "20. Тест системы обновления ответов"
echo "=========================================="
php test_reply_update_system.php
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "21. Тест мульти-команд статуса"
echo "=========================================="
php test_status_commands_multi.php
echo ""
echo "Тест завершен. Нажмите Enter для продолжения..."
read
echo ""

echo "=========================================="
echo "            ВСЕ ТЕСТЫ ЗАВЕРШЕНЫ!"
echo "=========================================="
echo ""
echo "Все тесты выполнены успешно."
echo "Проверьте результаты выше для выявления проблем."
echo ""
read -p "Нажмите Enter для выхода..." 